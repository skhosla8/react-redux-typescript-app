{"version":3,"sources":["state/action-types/index.ts","components/Posts/PostsTile.tsx","components/Posts/Posts.tsx","components/Form/Form.tsx","App.js","state/reducers/formReducer.ts","state/reducers/index.ts","state/store.ts","index.js"],"names":["ActionType","PostsTile","item","className","heading","readOnly","value","summary","Posts","data","useSelector","state","form","formData","tiles","map","i","Fragment","Form","initialState","useState","formState","setFormState","errors","setErrors","dispatch","useDispatch","handleChange","e","document","querySelector","subHeading","length","style","outline","target","name","autoComplete","onSubmit","preventDefault","handleErrors","key","currErrors","isValid","validateForm","type","SET_DATA","payload","setTimeout","htmlFor","id","placeholder","onChange","App","formReducer","action","rootReducer","combineReducers","store","createStore","subscribe","console","log","getState","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.43a9f062.chunk.js","sourcesContent":["export enum ActionType {\n    SET_DATA = \"SET_DATA\",\n};","import React, { FC } from 'react';\nimport { Tile } from '../../state/reducers/formReducer';\n\ninterface IPostsTileProps {\n  item: Tile;\n}\n\nconst PostsTile: FC<IPostsTileProps> = ({ item }) => {\n  return (\n    <li className=\"posts-item-wrapper\">\n      <div className=\"posts-item\">\n        <ul>\n          <li className=\"posts-item-heading\">{item.heading}</li>\n          <li className=\"posts-item-subheading\">{item['sub-heading']}</li>\n          <li className=\"posts-item-summary\">\n            <textarea readOnly value={item.summary}></textarea>\n          </li>\n        </ul>\n      </div>\n    </li>\n  )\n}\n\nexport default PostsTile;","import React, { FC } from 'react';\nimport './styles.css';\nimport { useSelector } from 'react-redux';\nimport { RootState } from '../../state/reducers';\nimport { Tile } from '../../state/reducers/formReducer';\nimport PostsTile from './PostsTile';\n\nconst Posts: FC = () => {\n  const data: Tile[] = useSelector((state: RootState) => state.form.formData);\n\n  const tiles = data && data.map((item: Tile, i) => (\n    <PostsTile\n      key={i}\n      item={item}\n    />\n  ));\n\n  return (\n    <React.Fragment>\n      <ul className=\"posts\">\n        {tiles}\n      </ul>\n    </React.Fragment>\n  );\n}\n\nexport default Posts;\n\n","import React, { FC, useState } from 'react';\nimport './styles.css';\nimport ErrorOutlineIcon from '@material-ui/icons/ErrorOutline';\nimport { useDispatch } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { Action } from '../../state/actions';\nimport { ActionType } from '../../state/action-types';\n\n// describe shape of form input \nexport interface FormInput {\n  heading?: string;\n  'sub-heading'?: string;\n  summary?: string;\n}\n\nconst Form: FC = () => {\n  // use local state for initial user input data since it doesn't need to persist\n  const initialState: FormInput = {\n    heading: '',\n    'sub-heading': '',\n    summary: '',\n  };\n\n  const [formState, setFormState] = useState<FormInput>(initialState); // make form a controlled component\n  const [errors, setErrors] = useState({} as any);\n\n  const dispatch = useDispatch<Dispatch<Action>>();\n\n  const handleChange = (\n    e: React.ChangeEvent<HTMLInputElement & HTMLTextAreaElement>\n  ): void => {\n    let heading = document.querySelector<HTMLInputElement>('#heading')!;\n    let subHeading = document.querySelector<HTMLInputElement>('#sub-heading')!;\n    let summary = document.querySelector<HTMLTextAreaElement>('#summary')!;\n\n    heading.value.length < 1 ? heading.style.outline = '1px solid red' : heading.style.outline = '1px solid rgba(60, 179, 113, 0.4)';\n    subHeading.value.length < 1 ? subHeading.style.outline = '1px solid red' : subHeading.style.outline = '1px solid rgba(60, 179, 113, 0.4)';\n    summary.value.length < 1 ? summary.style.outline = '1px solid red' : summary.style.outline = '1px solid rgba(60, 179, 113, 0.4)';\n\n    setFormState({\n      ...formState,\n      [e.target.name]: e.target.value // find name attribute for each field, set local state based on field name and value   \n    });\n  };\n\n  const resetForm = (): void => {\n    setFormState({ ...initialState });\n  };\n\n  const handleErrors = () => {\n    let heading = document.querySelector<HTMLInputElement>('#heading')!;\n    let subHeading = document.querySelector<HTMLInputElement>('#sub-heading')!;\n    let summary = document.querySelector<HTMLTextAreaElement>('#summary')!;\n\n    !formState.heading ? heading.style.outline = '1px solid red' : heading.style.outline = '1px solid rgba(0, 0, 0, 0.4)';\n    !formState['sub-heading'] ? subHeading.style.outline = '1px solid red' : subHeading.style.outline = '1px solid rgba(0, 0, 0, 0.4)';\n    !formState.summary ? summary.style.outline = '1px solid red' : summary.style.outline = '1px solid rgba(0, 0, 0, 0.4)';\n  };\n\n  const validateForm = (): boolean => {\n    let key: keyof FormInput;\n    const currErrors: FormInput = {};\n\n    let isValid = true;\n\n    for (key in formState) {\n      if (!formState[key]) {\n        isValid = false;\n        currErrors[key] = `Please enter a valid ${key}`;\n      }\n    }\n\n    // handle error messages for all text fields\n    if (!isValid) {\n      setErrors({ ...currErrors });\n    } else {\n      setErrors({});\n    }\n\n    return isValid;\n  }\n\n  const handleSubmit = (e: React.ChangeEvent<HTMLFormElement>): void => {\n    e.preventDefault(); // prevent browser reload since data is not being sent to backend\n\n    handleErrors();\n    const validated = validateForm();\n\n    if (validated) { // if all text fields are filled, proceed with dispatch  \n      dispatch({ type: ActionType.SET_DATA, payload: formState }); // on form submit, store data in Redux store\n\n      setTimeout(() => {\n        resetForm();\n      }, 500);\n    }\n  };\n\n  return (\n    <div className=\"form-wrapper\">\n      <form className=\"msform\" autoComplete=\"off\" onSubmit={handleSubmit}>\n        <fieldset className=\"msform-fieldset\">\n          <h2>Create Post</h2>\n          <h3>Fill all text fields to submit the form</h3>\n\n          <div className=\"msform-fieldset-div\">\n            <label htmlFor=\"heading\">Heading</label>\n            <input\n              id=\"heading\"\n              className=\"msform-field\"\n              type=\"text\"\n              name=\"heading\"\n              value={formState.heading}\n              placeholder=\"Heading\"\n              onChange={handleChange}\n            />\n            {errors.heading && !formState.heading && <ErrorOutlineIcon className=\"input-error-icon error-icon\" />}\n            {errors.heading && !formState.heading && <p className=\"alert\">{errors.heading}</p>}\n          </div>\n\n          <div className=\"msform-fieldset-div\">\n            <label htmlFor=\"sub-heading\">Sub-Heading</label>\n            <input\n              id=\"sub-heading\"\n              className=\"msform-field\"\n              type=\"text\"\n              name=\"sub-heading\"\n              value={formState['sub-heading']}\n              placeholder=\"Sub-Heading\"\n              onChange={handleChange}\n            />\n            {errors['sub-heading'] && !formState['sub-heading'] && <ErrorOutlineIcon className=\"input-error-icon error-icon\" />}\n            {errors['sub-heading'] && !formState['sub-heading'] && <p className=\"alert\">{errors['sub-heading']}</p>}\n          </div>\n\n          <div className=\"msform-fieldset-div\">\n            <label htmlFor=\"summary\">Summary</label>\n            <textarea\n              id=\"summary\"\n              className=\"msform-field\"\n              name=\"summary\"\n              value={formState.summary}\n              placeholder=\"Summary\"\n              onChange={handleChange}\n            />\n            {errors.summary && !formState.summary && <ErrorOutlineIcon className=\"textarea-error-icon error-icon\" />}\n            {errors.summary && !formState.summary && <p className=\"alert\">{errors.summary}</p>}\n          </div>\n\n          <button type=\"submit\">\n            Submit\n          </button>\n        </fieldset>\n      </form>\n    </div>\n  )\n}\n\nexport default Form;","import './App.css';\nimport Posts from './components/Posts/Posts';\nimport Form from './components/Form/Form';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <div className=\"gridContainer\">\n        <div className=\"gridPosts\">\n          <Posts />\n        </div>\n        <div className=\"gridForm\">\n          <Form />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n\n","import { Action } from '../actions';\nimport { ActionType } from '../action-types';\nimport { FormInput } from '../../components/Form/Form';\n\n// describe shape of incoming form data \nexport type Tile = Readonly<FormInput>;\n\nexport interface FormState {\n    formData: Tile[];\n}\n\nconst initialState = {\n    formData: [],\n};\n\nconst formReducer = (state: FormState = initialState, action: Action) => {\n    switch (action.type) {\n        case ActionType.SET_DATA: {\n            return {\n                ...state,\n                formData: [...state.formData, action.payload],\n            };\n        }\n        default:\n            return state;\n    }\n}\n\nexport default formReducer;","import { combineReducers } from 'redux';\nimport formReducer from './formReducer';\n\nconst rootReducer = combineReducers({\n    form: formReducer\n});\n\nexport default rootReducer;\n\nexport type RootState = ReturnType<typeof rootReducer>\n","import { createStore } from 'redux';\nimport rootReducer from './reducers';\n\nconst store = createStore(rootReducer);\nstore.subscribe(() => console.log(store.getState()));\n\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './state/store';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}